(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-143633f8"],{"0b70":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hot"},[i("div",{staticClass:"hottop"}),t.listInfo?i("div",{staticClass:"top"},[i("div",{staticClass:"trtop"}),i("div",{staticClass:"twtop"},[t._v(" 更新时间:"+t._s(t._f("formatDate")(this.listInfo.trackUpdateTime,"m月d日"))+" ")])]):t._e(),t._l(t.hotList,(function(e,a){return i("newest-music",{key:e.id,attrs:{item:e,musicID:t.musicID},on:{play:function(e){return t.$emit("play",e)}},scopedSlots:t._u([{key:"sortnum",fn:function(){return[i("span",{staticClass:"spanul"},[t._v(t._s(a+1<10?"0"+(a+1):a+1))])]},proxy:!0}],null,!0)})})),t.isLoading||t.hotList.length!=t.allList.length?i("loading"):t._e(),i("p",{directives:[{name:"show",rawName:"v-show",value:t.allList.length>0,expression:"allList.length > 0"}],staticClass:"loadingert"},[t._v(" "+t._s(t.hotList.length==t.allList.length?"已经没有更多啦~":"加载中...")+" ")]),i("div",{staticClass:"musicbottom"})],2)},n=[],s=(i("99af"),i("fb6a"),i("d81d"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),i("3a5e")),r=i("fe51"),l={props:["musicID"],name:"Hot",components:{NewestMusic:r["a"],Loading:s["a"]},data:function(){return{linger_list:[],listInfo:null,hotList:[],allList:[],page:0,perpage:20,isLoading:!0,timer:null}},methods:{loadMore:function(){var t=this;this.isLoading=!0,clearInterval(this.timer),this.timer=setTimeout((function(){t.page++;var e=t.page*t.perpage,i=(t.page+1)*t.perpage;t.hotList=t.hotList.concat(t.allList.slice(e,i))}),800),this.isLoading=!1},onScroll:function(){var t=document.documentElement.scrollHeight,e=document.documentElement.scrollTop,i=document.documentElement.clientHeight;t-(e+i)-50<=0&&this.loadMore()}},created:function(){var t=this;this.axios.get("/artist/list?cat=5001").then((function(e){t.linger_list=e.data.artists.slice(0,6),console.log(t.linger_list)})),this.axios.get("/playlist/detail?id=3778678").then((function(e){console.log(e.data.playlist),t.listInfo=e.data.playlist,t.allList=e.data.playlist.tracks.map((function(t,i){return t.song={bMusic:{sr:e.data.privileges[i].maxbr},artists:t.ar,album:t.al,alias:[]},t.picUrl=t.al.picUrl,t})),t.hotList=t.allList.slice(0,20),window.addEventListener("scroll",t.onScroll)}))},beforeRouteLeave:function(t,e,i){window.removeEventListener("scroll",this.onScroll),i()},filters:{formatDate:function(t,e){var i=new Date(t),a={"m+":i.getMonth(),"d+":i.getDate()};for(var n in a){var s=new RegExp(n),r=a[n];r=r<10?"0"+r:r,e=e.replace(s,r)}return e}}},o=l,c=(i("db1e"),i("2877")),u=Object(c["a"])(o,a,n,!1,null,"28dbf26c",null);e["default"]=u.exports},"0cb2":function(t,e,i){var a=i("7b0b"),n=Math.floor,s="".replace,r=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,i,o,c,u){var d=i+t.length,f=o.length,h=l;return void 0!==c&&(c=a(c),h=r),s.call(u,h,(function(a,s){var r;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(d);case"<":r=c[s.slice(1,-1)];break;default:var l=+s;if(0===l)return a;if(l>f){var u=n(l/10);return 0===u?a:u<=f?void 0===o[u-1]?s.charAt(1):o[u-1]+s.charAt(1):a}r=o[l-1]}return void 0===r?"":r}))}},5319:function(t,e,i){"use strict";var a=i("d784"),n=i("825a"),s=i("50c4"),r=i("a691"),l=i("1d80"),o=i("8aa5"),c=i("0cb2"),u=i("14c3"),d=Math.max,f=Math.min,h=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,i,a){var v=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=a.REPLACE_KEEPS_$0,g=v?"$":"$0";return[function(i,a){var n=l(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,n,a):e.call(String(n),i,a)},function(t,a){if(!v&&p||"string"===typeof a&&-1===a.indexOf(g)){var l=i(e,t,this,a);if(l.done)return l.value}var m=n(t),b=String(this),L="function"===typeof a;L||(a=String(a));var _=m.global;if(_){var w=m.unicode;m.lastIndex=0}var E=[];while(1){var S=u(m,b);if(null===S)break;if(E.push(S),!_)break;var x=String(S[0]);""===x&&(m.lastIndex=o(b,s(m.lastIndex),w))}for(var I="",y=0,C=0;C<E.length;C++){S=E[C];for(var $=String(S[0]),k=d(f(r(S.index),b.length),0),D=[],M=1;M<S.length;M++)D.push(h(S[M]));var T=S.groups;if(L){var U=[$].concat(D,k,b);void 0!==T&&U.push(T);var A=String(a.apply(void 0,U))}else A=c($,b,k,D,T,a);k>=y&&(I+=b.slice(y,k)+A,y=k+$.length)}return I+b.slice(y)}]}))},"5bbf":function(t,e,i){},db1e:function(t,e,i){"use strict";i("5bbf")}}]);
//# sourceMappingURL=chunk-143633f8.c695588c.js.map