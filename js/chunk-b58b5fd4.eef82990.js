(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b58b5fd4"],{"0be3":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rankingser"},[s("router-link",{staticClass:"fanhui iconfont icon-back_icon",attrs:{tag:"div",to:"/"}}),t.listInfos?s("div",{staticClass:"rankingserson"},[s("img",{attrs:{src:""+t.listInfos.coverImgUrl,alt:""}})]):t._e(),s("div",{staticClass:"musicnewset"},[t._l(t.hotLists,(function(e){return s("newest-music",{key:e.id,attrs:{item:e,musicID:t.musicID},on:{play:function(e){return t.$emit("play",e)}}})})),t.isLoading||t.hotLists.length!=t.allList.length?s("loading"):t._e(),s("p",{directives:[{name:"show",rawName:"v-show",value:t.allList.length>0,expression:"allList.length > 0"}],staticClass:"loadingert"},[t._v(" "+t._s(t.hotLists.length==t.allList.length?"已经没有更多啦~":"加载中...")+" ")])],2),s("div",{staticClass:"musicbottom"})],1)},n=[],l=(s("99af"),s("fb6a"),s("d81d"),s("fe51")),a=s("3a5e"),o={props:{musicID:{type:[Object,null]}},data:function(){return{listInfos:null,hotLists:[],allList:[],page:0,perpage:20,isLoading:!0,timer:null}},components:{NewestMusic:l["a"],Loading:a["a"]},methods:{loadMore:function(){var t=this;this.isLoading=!0,clearInterval(this.timer),this.timer=setTimeout((function(){t.page++;var e=t.page*t.perpage,s=(t.page+1)*t.perpage;t.hotLists=t.hotLists.concat(t.allList.slice(e,s))}),800),this.isLoading=!1},onScroll:function(){var t=document.documentElement.scrollHeight,e=document.documentElement.scrollTop,s=document.documentElement.clientHeight;t-(e+s)-50<=0&&this.loadMore()}},beforeRouteEnter:function(t,e,s){s((function(t){t.axios.get("/playlist/detail?id="+t.$route.query.usernameid).then((function(e){console.log(t.$route.query.usernameid),console.log(e.data.playlist),t.listInfos=e.data.playlist,t.allList=e.data.playlist.tracks.map((function(t,s){return t.song={bMusic:{sr:e.data.privileges[s].maxbr},artists:t.ar,album:t.al,alias:[]},t.picUrl=t.al.picUrl,t})),console.log(t.allList),t.hotLists=t.allList.slice(0,20),window.addEventListener("scroll",t.onScroll)}))}))},beforeRouteLeave:function(t,e,s){window.removeEventListener("scroll",this.onScroll),s()}},r=o,c=(s("9e61"),s("2877")),u=Object(c["a"])(r,i,n,!1,null,"4ae8e6c8",null);e["default"]=u.exports},"782e":function(t,e,s){},"9e61":function(t,e,s){"use strict";s("782e")}}]);
//# sourceMappingURL=chunk-b58b5fd4.eef82990.js.map