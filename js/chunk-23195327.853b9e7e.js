(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23195327"],{"04dd":function(t,e,s){"use strict";s("77e9")},"0cb2":function(t,e,s){var n=s("7b0b"),a=Math.floor,i="".replace,r=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,s,c,u,l){var d=s+t.length,h=c.length,g=o;return void 0!==u&&(u=n(u),g=r),i.call(l,g,(function(n,i){var r;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,s);case"'":return e.slice(d);case"<":r=u[i.slice(1,-1)];break;default:var o=+i;if(0===o)return n;if(o>h){var l=a(o/10);return 0===l?n:l<=h?void 0===c[l-1]?i.charAt(1):c[l-1]+i.charAt(1):n}r=c[o-1]}return void 0===r?"":r}))}},"2d3b":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"searchs1"},[s("div",{ref:"searchBox",staticClass:"search-box"},[s("div",{staticClass:"search-input-box"},[s("router-link",{directives:[{name:"show",rawName:"v-show",value:!t.keyword,expression:"!(keyword)"}],staticClass:"iconfont icon-back_icon",attrs:{tag:"div",to:"/"}}),s("div",{staticClass:"search-input-back"},[s("div",{staticClass:"iconfont icon-sousuo"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.keyword},on:{input:[function(e){e.target.composing||(t.keyword=e.target.value)},function(e){t.inputing=!0}]}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword"}],staticClass:"iconfont icon-x search-iocr",on:{click:t.pruge}})])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword"}],staticClass:"search-input-butt",on:{click:function(e){return t.change(t.keyword)}}},[t._v("搜索")])]),s(t.searchType,{tag:"component",attrs:{musicID:t.musicID,valarray:t.valarray,keyword:t.keyword,node:t.node},on:{play:function(e){return t.$emit("play",e)},change:t.change}}),s("Loading",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}]})],1)},a=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"searchhotcomponent"},[s("p",[t._v("热门搜索:")]),s("ul",t._l(t.hot_detail,(function(e,n){return s("li",{key:n,on:{click:function(s){return s.stopPropagation(),t.$emit("change",e.searchWord)}}},[t._v(t._s(e.searchWord))])})),0),s("p",[t._v("搜索历史:")]),s("ul",t._l(t.valarray,(function(e,n){return s("li",{key:n,on:{click:function(s){return s.stopPropagation(),t.$emit("change",e)}}},[t._v(t._s(e))])})),0)])},r=[],o=(s("fb6a"),{props:["keyword","valarray"],data:function(){return{hot_detail:[]}},created:function(){var t=this;this.$axios.get("/search/hot/detail").then((function(e){t.hot_detail=e.data.data.slice(0,10),console.log(t.keyword)}))}}),c=o,u=(s("9c9e"),s("2877")),l=Object(u["a"])(c,i,r,!1,null,"2eca7e7e",null),d=l.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"suggesList-box"},[s("div",{staticClass:"suggesList-title"},[s("span",[t._v("搜索提示：")]),s("span",{staticClass:"suggesList-title-first"},[t._v(t._s(this.keyword))])]),s("div",{staticClass:"suggesList-song"},[s("ul",[t.suggesList?t._l(t.suggesList,(function(e){return s("li",{key:e.id,staticClass:"suggesList-song-ul-li",on:{click:function(s){return t.$emit("change",e.name)}}},[t._v(" "+t._s(e.name)+" ")])})):t._e(),t.suggesList.artists?t._l(t.suggesList.artists,(function(e){return s("li",{key:e.id,staticClass:"suggesList-song-ul-li",on:{click:function(s){return t.$emit("change",e.name)}}},[t._v(" "+t._s(e.name)+" ")])})):t._e(),t.suggesList.albums?t._l(t.suggesList.albums,(function(e){return s("li",{key:e.id,staticClass:"suggesList-song-ul-li",on:{click:function(s){return t.$emit("change",e.name)}}},[t._v(" "+t._s(e.name)+" ")])})):t._e()],2)])])},g=[],f={components:{},props:["keyword"],data:function(){return{suggesList:[]}},watch:{keyword:function(t){this.suggesListRender(t)}},created:function(){this.suggesListRender(this.keyword)},methods:{suggesListRender:function(t){var e=this;if(""==t)return!1;this.axios.get("/search/suggest?keywords="+t).then((function(t){e.suggesList=t.data.result.songs,console.log(void 0==t.data.result.songs),void 0==t.data.result.songs&&(e.suggesList=[])}))}}},v=f,p=(s("9781"),Object(u["a"])(v,h,g,!1,null,"b9dea798",null)),m=p.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"searchresult"},[s("p",[t._v(" 搜索结果:"+t._s(t.keyword)+" ")]),s("ul",t._l(t.searchresult,(function(e){return s("newest-music",{key:e.id,attrs:{item:e,keyword:t.keyword,musicID:t.musicID},on:{play:function(e){return t.$emit("play",e)}}})})),1)])},w=[],k=(s("d81d"),s("4d63"),s("ac1f"),s("25f0"),s("5319"),s("fe51")),_=s("40be"),b=s.n(_),x={props:{keyword:String,musicID:{type:[Object,null]}},data:function(){return{searchresult:[],albument:null}},components:{NewestMusic:k["a"]},created:function(){var t=this;this.axios.get("/search?keywords="+this.keyword).then((function(e){console.log(e),t.searchresult=e.data.result.songs.map((function(t){return t.song={artists:t.artists,album:t.album,alias:[]},t.picUrl=b.a,t})),console.log(t.searchresult)})),this.axios.get("/search?keywords="+this.keyword+"&type=10").then((function(e){t.albument=e.data.result.albums[0],console.log(e)}))},filters:{formatDate:function(t,e){var s=new Date(t),n={"m+":s.getMonth(),"d+":s.getDate()};for(var a in n){var i=new RegExp(a),r=n[a];r=r<10?"0"+r:r,e=e.replace(i,r)}return e}}},L=x,$=(s("04dd"),Object(u["a"])(L,y,w,!1,null,"5bf12081",null)),C=$.exports,S=s("3a5e"),E={props:["musicID"],components:{SearchHotcomponent:d,SearchSugght:m,SearchResult:C,Loading:S["a"]},data:function(){return{keyword:null,inputing:!1,searchType:"SearchHotcomponent",flag:!0,node:null,valarray:[]}},watch:{keyword:function(t){""==t?(this.flag=!1,this.searchType="SearchHotcomponent"):this.inputing&&(this.flag=!1,this.searchType="SearchSugght")}},mounted:function(){this.flag=!1,console.log(this.musicID),this.node=this.$refs.searchBox;var t=this.node.offsetTop+this.node.offsetHeight-20,e=this;window.onscroll=function(){var s=document.documentElement.scrollTop||document.body.scrollTop;s>t?e.node.classList.add("active"):e.node.classList.remove("active")}},methods:{change:function(t){this.flag=!1,this.inputing=!1,this.keyword=t,this.searchType="SearchResult",this.valarray.push(t);for(var e=[],s=0;s<this.valarray.length;s++)-1===e.indexOf(this.valarray[s])&&e.push(this.valarray[s]);e=e.reverse(),this.valarray=e},pruge:function(){console.log(this.keyword),this.keyword=""}}},D=E,I=(s("e3e8"),Object(u["a"])(D,n,a,!1,null,"fc64d274",null));e["default"]=I.exports},5319:function(t,e,s){"use strict";var n=s("d784"),a=s("825a"),i=s("50c4"),r=s("a691"),o=s("1d80"),c=s("8aa5"),u=s("0cb2"),l=s("14c3"),d=Math.max,h=Math.min,g=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,s,n){var f=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,p=f?"$":"$0";return[function(s,n){var a=o(this),i=void 0==s?void 0:s[t];return void 0!==i?i.call(s,a,n):e.call(String(a),s,n)},function(t,n){if(!f&&v||"string"===typeof n&&-1===n.indexOf(p)){var o=s(e,t,this,n);if(o.done)return o.value}var m=a(t),y=String(this),w="function"===typeof n;w||(n=String(n));var k=m.global;if(k){var _=m.unicode;m.lastIndex=0}var b=[];while(1){var x=l(m,y);if(null===x)break;if(b.push(x),!k)break;var L=String(x[0]);""===L&&(m.lastIndex=c(y,i(m.lastIndex),_))}for(var $="",C=0,S=0;S<b.length;S++){x=b[S];for(var E=String(x[0]),D=d(h(r(x.index),y.length),0),I=[],T=1;T<x.length;T++)I.push(g(x[T]));var R=x.groups;if(w){var N=[E].concat(I,D,y);void 0!==R&&N.push(R);var P=String(n.apply(void 0,N))}else P=u(E,y,D,I,R,n);D>=C&&($+=y.slice(C,D)+P,C=D+E.length)}return $+y.slice(C)}]}))},"77e9":function(t,e,s){},9781:function(t,e,s){"use strict";s("f1c9")},"9c9e":function(t,e,s){"use strict";s("a892")},a892:function(t,e,s){},b7fc:function(t,e,s){},e3e8:function(t,e,s){"use strict";s("b7fc")},f1c9:function(t,e,s){}}]);
//# sourceMappingURL=chunk-23195327.853b9e7e.js.map